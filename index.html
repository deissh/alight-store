<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <title> alight test </title>

  <script src="static/jquery-2.2.4.js"> </script>
  <script type="text/javascript" src='static/alight.js'></script>
  <link rel="stylesheet" href="static/style.css">
</head>


<body al-app="main_app" class="container">
  <div class="block list">
    <h4>Items</h4>

    <div class="filter">
      <input type="text" al-value="title">

      Currency:
      <select al-value="currency">
        <option value="1">Rub</option>
        <option value="0.015">Dollar</option>
        <option value="0.013">Euro</option>
      </select>

      Price:
      <input type="number" style="width: 50px;" placeholder="Min" al-value="pricemin">
      -
      <input type="number" style="width: 50px;" placeholder="Max" al-value="pricemax">

      <button al-click="Search()">
          Search
      </button>
      <button al-click="Clear()">X</button>
    </div>

    <div class="container">

      <div al-repeat="it in result | filter:title" class="block">
        <h4>{{ it.title }}</h4>
        <button al-click="SelectItem(it.id)">Select</button>
      </div>

    </div>

    </table>
  </div>

  <div class="block item" al-if="selected">
    <h4>
      Item info
    </h4>
    <table style="width: 100%;">

      <tr>
        <td>id</td>
        <td>{{selected.id}}</td>
      </tr>
      <tr>
        <td>title</td>
        <td>
          <input type="text" al-value="selected.title">
        </td>
      </tr>
      <tr>
        <td>price</td>
        <td>
          <input type="text" al-value="selected.price">
        </td>
      </tr>
      <tr>
        <td>amount</td>
        <td>
          <input type="text" al-value="selected.amount">
        </td>
      </tr>
      <tr>
        <td>category</td>
        <td>
          <input type="text" al-value="selected.category">
        </td>
      </tr>
      <tr>
        <td>arrival</td>
        <td al-date-picker="selected.arrival*arrival"></td>
      </tr>
      <tr>
        <td>validity</td>
        <td al-date-picker="selected.validity*validity"></td>
      </tr>
      <tr>
        <td>manufacturer</td>
        <td>
          <!--<input type="text" al-value="selected.manufacturer">-->
          <select al-value="selected.manufacturer">
            <option value="{{ it.id }}" al-repeat="it in manufacturer">{{ it.name }}</option>
          </select>
        </td>
      </tr>

    </table>
    <button al-click="Accept()">Accept</button>
    <button al-click="Dismis()">Dismis</button>
  </div>

  <div class="block new">
      <h4>New Item</h4>
      <table style="width: 100%;">

        <tr>
          <td>title</td>
          <td>
            <input al-value="new.title" type="text">
          </td>
        </tr>
        <tr>
          <td>price</td>
          <td>
            <input al-value="new.price" type="number">
          </td>
        </tr>
        <tr>
          <td>amount</td>
          <td>
            <input al-value="new.amount" type="number">
          </td>
        </tr>
        <tr>
          <td>category</td>
          <td>
            <input al-value="new.category" type="text">
          </td>
        </tr>
        <tr>
          <td>arrival</td>
          <td al-date-picker="new.arrival"></td>
        </tr>
        <tr>
          <td>validity</td>
          <td al-date-picker="new.validity"></td>
        </tr>
        <tr>
          <td>manufacturer</td>
          <td>
            <select al-value="selected.manufacturer">
              <option value="{{ it.id }}" al-repeat="it in manufacturer">{{ it.name }}</option>
            </select>
          </td>
        </tr>
  
      </table>
      <button al-click="Create()">Create</button>
  </div>
</body>
<script type="text/javascript" src='static/al-test.js'></script>

</html>